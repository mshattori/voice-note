<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Settings</title>
    <!-- UIkit CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/uikit@3.21.16/dist/css/uikit.min.css" />
    <link rel="stylesheet" href="index.css">
</head>
<body>
    <div id="api-key-config">
        <label for="api-key">API Key:</label>
        <input type="password" id="api-key" name="api-key"><br><br>
        <label for="base-url">Base URL (optional):</label>
        <input type="text" id="base-url" name="base-url" value="https://api.openai.com/v1/"><br><br>
        <label for="model-select">Transcription Model:</label>
        <select id="model-select" name="model-select">
            <option value="gpt-4o-mini-transcribe">gpt-4o-mini-transcribe</option>
            <option value="whisper-1">whisper-1</option>
        </select><br><br>
        <button id="save-api-key">Save</button>
    </div>
    <!-- UIkit JS -->
    <script src="https://cdn.jsdelivr.net/npm/uikit@3.21.16/dist/js/uikit.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/uikit@3.21.16/dist/js/uikit-icons.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const apiKeyInput = document.getElementById('api-key');
            const baseUrlInput = document.getElementById('base-url');
            const modelSelect = document.getElementById('model-select');
            const saveApiKeyButton = document.getElementById('save-api-key');

            // Load values from localStorage
            apiKeyInput.value = localStorage.getItem('apiKey') || '';
            baseUrlInput.value = localStorage.getItem('baseURL') || 'https://api.openai.com/v1/';
            modelSelect.value = localStorage.getItem('model-select') || 'gpt-4o-mini-transcribe'; // Default model

            // Save API key, base URL, and selected model to localStorage
            saveApiKeyButton.addEventListener('click', () => {
                const apiKey = apiKeyInput.value;
                const baseURL = baseUrlInput.value;
                const selectedModel = modelSelect.value;
                localStorage.setItem('apiKey', apiKey);
                localStorage.setItem('baseURL', baseURL);
                localStorage.setItem('model-select', selectedModel);
                alert('Saved API Key, Base URL and Model');
            });
        });
    </script>
</body>
</html>
